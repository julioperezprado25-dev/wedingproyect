<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestra Boda</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Montserrat',sans-serif;
  background:#fff;
  color:#333;
  overflow-x:hidden;
}

h1,h2{
  font-family:'Playfair Display',serif;
}

section{
  padding:80px 20px;
  text-align:center;
}

/* HERO VIDEO */
.hero{
  position:relative;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
}

.hero video{
  position:absolute;
  top:0;left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}

.overlay{
  background:rgba(0,0,0,0.4);
  position:absolute;
  width:100%;
  height:100%;
}

.hero-content{
  z-index:2;
  text-align:center;
}

.hero h1{
  font-size:60px;
  letter-spacing:2px;
}

.hero p{
  margin-top:20px;
  font-size:20px;
}

/* COUNTDOWN */
.countdown{
  font-size:60px;
  font-weight:300;
  margin-top:30px;
}

/* GALERIA */
.gallery img{
  width:200px;
  margin:10px;
  border-radius:10px;
  transition:0.3s;
}
.gallery img:hover{
  transform:scale(1.05);
}

/* FORMULARIOS */
input, textarea{
  width:300px;
  padding:10px;
  margin:10px;
  border:1px solid #ddd;
  border-radius:5px;
}

button{
  padding:10px 20px;
  border:none;
  background:#000;
  color:#fff;
  cursor:pointer;
  border-radius:5px;
}

button:hover{
  background:#444;
}

/* MENSAJES */
.message-box{
  max-width:500px;
  margin:10px auto;
  padding:15px;
  border-bottom:1px solid #eee;
}
</style>
</head>
<body>

<!-- HERO -->
<div class="hero">
  <video autoplay muted loop>
    <source src="video.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>
  <div class="hero-content">
    <h1>Ana & Luis</h1>
    <p>15 Agosto 2026</p>
  </div>
</div>

<!-- CUENTA REGRESIVA -->
<section>
  <h2>Faltan</h2>
  <div class="countdown" id="countdown"></div>
</section>

<!-- VIDEO MENSAJE -->
<section>
  <h2>Nuestro Video</h2>
  <iframe width="100%" height="400"
  src="https://www.youtube.com/embed/TU_VIDEO"
  frameborder="0" allowfullscreen></iframe>
</section>

<!-- SUBIR FOTOS -->
<section>
  <h2>Comparte tus fotos üì∏</h2>
  <input type="file" id="photoInput">
  <button onclick="uploadPhoto()">Subir</button>
  <div class="gallery" id="gallery"></div>
</section>

<!-- LIBRO DE MENSAJES -->
<section>
  <h2>D√©janos un mensaje üìù</h2>
  <input type="text" id="name" placeholder="Tu nombre"><br>
  <textarea id="message" placeholder="Escribe tu mensaje"></textarea><br>
  <button onclick="saveMessage()">Enviar</button>
  <div id="messages"></div>
</section>

<script>
// ================= CUENTA REGRESIVA =================
const weddingDate = new Date("2026-08-15T18:00:00").getTime();
setInterval(()=>{
  const now = new Date().getTime();
  const distance = weddingDate - now;

  const days = Math.floor(distance / (1000*60*60*24));
  const hours = Math.floor((distance % (1000*60*60*24))/(1000*60*60));
  const minutes = Math.floor((distance % (1000*60*60))/(1000*60));
  const seconds = Math.floor((distance % (1000*60))/1000);

  document.getElementById("countdown").innerHTML =
  `${days}d ${hours}h ${minutes}m ${seconds}s`;
},1000);
</script>

<!-- ================= FIREBASE ================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";
import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "TU_API_KEY",
  authDomain: "TU_AUTH",
  projectId: "TU_PROJECT_ID",
  storageBucket: "TU_BUCKET",
  messagingSenderId: "TU_SENDER",
  appId: "TU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const storage = getStorage(app);
const db = getFirestore(app);

// SUBIR FOTO
window.uploadPhoto = async function(){
  const file = document.getElementById("photoInput").files[0];
  const storageRef = ref(storage, "fotos/" + file.name);
  await uploadBytes(storageRef, file);
  const url = await getDownloadURL(storageRef);

  const img = document.createElement("img");
  img.src = url;
  document.getElementById("gallery").appendChild(img);
}

// GUARDAR MENSAJE
window.saveMessage = async function(){
  const name = document.getElementById("name").value;
  const message = document.getElementById("message").value;

  await addDoc(collection(db,"messages"),{
    name,
    message,
    date:new Date()
  });
}

// MOSTRAR MENSAJES EN TIEMPO REAL
onSnapshot(collection(db,"messages"),(snapshot)=>{
  const container = document.getElementById("messages");
  container.innerHTML="";
  snapshot.forEach(doc=>{
    const data = doc.data();
    container.innerHTML += `
      <div class="message-box">
        <strong>${data.name}</strong>
        <p>${data.message}</p>
      </div>`;
  });
});
</script>

</body>
</html>